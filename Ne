-- Combined Speed + Teleport Strafe Script

-- LocalScript for StarterPlayerScripts

local Players = game:GetService("Players")

local RunService = game:GetService("RunService")

local localPlayer = Players.LocalPlayer

local playerGui = localPlayer:WaitForChild("PlayerGui")

-- UI Setup

local screenGui = Instance.new("ScreenGui")

screenGui.Name = "MainUI"

screenGui.ResetOnSpawn = false

screenGui.Parent = playerGui

local panel = Instance.new("Frame")

panel.Size = UDim2.new(0, 340, 0, 260)

panel.Position = UDim2.new(0, 50, 0, 120)

panel.BackgroundColor3 = Color3.fromRGB(25,25,25)

panel.Active = true

panel.Draggable = true

panel.Parent = screenGui

Instance.new("UICorner", panel)

local title = Instance.new("TextLabel", panel)

title.Size = UDim2.new(1, -10, 0, 36)

title.Position = UDim2.new(0, 5, 0, 5)

title.BackgroundTransparency = 1

title.Text = "Game Tools"

title.Font = Enum.Font.GothamBold

title.TextSize = 20

title.TextColor3 = Color3.fromRGB(255,255,255)

title.TextXAlignment = Enum.TextXAlignment.Left

local toggleBtn = Instance.new("TextButton", panel)

toggleBtn.Size = UDim2.new(0, 80, 0, 28)

toggleBtn.Position = UDim2.new(1, -90, 0, 6)

toggleBtn.Text = "Close"

toggleBtn.Font = Enum.Font.GothamBold

toggleBtn.TextSize = 14

toggleBtn.TextColor3 = Color3.fromRGB(255,255,255)

toggleBtn.BackgroundColor3 = Color3.fromRGB(70,70,70)

Instance.new("UICorner", toggleBtn)

-- Username input for strafe

local usernameBox = Instance.new("TextBox", panel)

usernameBox.PlaceholderText = "Enter target username..."

usernameBox.Size = UDim2.new(1, -20, 0, 36)

usernameBox.Position = UDim2.new(0, 10, 0, 50)

usernameBox.Font = Enum.Font.Gotham

usernameBox.TextSize = 16

usernameBox.Text = ""

usernameBox.TextColor3 = Color3.fromRGB(255,255,255)

usernameBox.BackgroundColor3 = Color3.fromRGB(40,40,40)

Instance.new("UICorner", usernameBox)

-- Strafe controls

local startBtn = Instance.new("TextButton", panel)

startBtn.Size = UDim2.new(0.45, -10, 0, 36)

startBtn.Position = UDim2.new(0, 10, 0, 100)

startBtn.Text = "Start Strafe"

startBtn.Font = Enum.Font.GothamBold

startBtn.TextSize = 16

startBtn.TextColor3 = Color3.fromRGB(255,255,255)

startBtn.BackgroundColor3 = Color3.fromRGB(60,120,60)

Instance.new("UICorner", startBtn)

local stopBtn = Instance.new("TextButton", panel)

stopBtn.Size = UDim2.new(0.45, -10, 0, 36)

stopBtn.Position = UDim2.new(0.55, 0, 0, 100)

stopBtn.Text = "Stop Strafe"

stopBtn.Font = Enum.Font.GothamBold

stopBtn.TextSize = 16

stopBtn.TextColor3 = Color3.fromRGB(255,255,255)

stopBtn.BackgroundColor3 = Color3.fromRGB(120,60,60)

Instance.new("UICorner", stopBtn)

-- Speed control label

local speedLabel = Instance.new("TextLabel", panel)

speedLabel.Size = UDim2.new(1, -20, 0, 24)

speedLabel.Position = UDim2.new(0, 10, 0, 150)

speedLabel.BackgroundTransparency = 1

speedLabel.Text = "Set WalkSpeed:"

speedLabel.Font = Enum.Font.GothamBold

speedLabel.TextSize = 16

speedLabel.TextColor3 = Color3.fromRGB(255,255,255)

speedLabel.TextXAlignment = Enum.TextXAlignment.Left

-- Speed buttons (0, 25, 50, 75, 100)

local speeds = {0, 25, 50, 75, 100}

for i, val in ipairs(speeds) do

	local btn = Instance.new("TextButton", panel)	btn.Size = UDim2.new(0.18, -6, 0, 32)

	btn.Position = UDim2.new((i-1)*0.2 + 0.01, 0, 0, 180)

	btn.Text = tostring(val)

	btn.Font = Enum.Font.GothamBold

	btn.TextSize = 16

	btn.TextColor3 = Color3.fromRGB(255,255,255)

	btn.BackgroundColor3 = Color3.fromRGB(40,40,100)

	Instance.new("UICorner", btn)

	btn.MouseButton1Click:Connect(function()

		if localPlayer.Character and localPlayer.Character:FindFirstChild("Humanoid") then

			localPlayer.Character.Humanoid.WalkSpeed = val

		end

	end)

end

-- State for strafe

local strafing = false

local angle = 0

local targetPlayer = nil

local speed = 6   -- circles per second

local radius = 8

local heightAmplitude = 3

local heightSpeed = 2

-- Find target player

local function getTarget(name)

	for _, plr in ipairs(Players:GetPlayers()) do

		if string.lower(plr.Name) == string.lower(name) then

			return plr

		end

	end

	return nil

end

-- Start strafe

local function startStrafe()

	if strafing then return end

	local name = usernameBox.Text

	local plr = getTarget(name)

	if not plr or not plr.Character or not plr.Character:FindFirstChild("HumanoidRootPart") then

		warn("Target not found!")

		return

	end

	targetPlayer = plr

	strafing = true

	-- Loop

	RunService.Heartbeat:Connect(function(dt)

		if not strafing then return end

		if not targetPlayer or not targetPlayer.Character or not targetPlayer.Character:FindFirstChild("HumanoidRootPart") then

			strafing = false

			return

		end

		angle += dt * math.pi * 2 * speed

		local root = targetPlayer.Character.HumanoidRootPart

		local myChar = localPlayer.Character

		if myChar and myChar:FindFirstChild("HumanoidRootPart") then

			local x = math.cos(angle) * radius

			local z = math.sin(angle) * radius

			local y = math.sin(angle * heightSpeed) * heightAmplitude

			myChar:MoveTo(root.Position + Vector3.new(x, y, z))

		end

	end)

end

-- Stop strafe

local function stopStrafe()

	strafing = false

end

-- Button events

startBtn.MouseButton1Click:Connect(startStrafe)

stopBtn.MouseButton1Click:Connect(stopStrafe)

-- Toggle open/close

local open = true

toggleBtn.MouseButton1Click:Connect(function()

	open = not open

	panel.Size = open and UDim2.new(0, 340, 0, 260) or UDim2.new(0, 120, 0, 36)

	toggleBtn.Text = open and "Close" or "Open"

end)

print("[MainUI Loaded â€” Speed + Strafe combined]")
